[gd_scene load_steps=20 format=3 uid="uid://dkgfw60uv84fp"]

[ext_resource type="Script" uid="uid://vpxi0imrd4io" path="res://maps/KayKitCity/props/traffic_light_a_bodies.gd" id="1_egxgu"]
[ext_resource type="ArrayMesh" uid="uid://c17atyys3y7ra" path="res://assets/models/props/pole_6m.obj" id="2_ii4w5"]
[ext_resource type="ArrayMesh" uid="uid://bpsonievboh4l" path="res://assets/models/props/traffic_light_head.obj" id="3_r1csc"]
[ext_resource type="AudioStream" uid="uid://dtbi4h33h4wf4" path="res://assets/audio/Sound effects package/Impact/Metal/metal_01.wav" id="4_4c2bk"]
[ext_resource type="AudioStream" uid="uid://cjbdt8kgwwq0r" path="res://assets/audio/Sound effects package/Impact/Metal/metal_02.wav" id="5_d22vm"]
[ext_resource type="AudioStream" uid="uid://cfiscjj4n2gky" path="res://assets/audio/Sound effects package/Impact/Metal/metal_03.wav" id="6_mnobl"]
[ext_resource type="AudioStream" uid="uid://dd53l2iwnd524" path="res://assets/audio/Sound effects package/Impact/Metal/metal_04.wav" id="7_x3xkm"]
[ext_resource type="AudioStream" uid="uid://dkp6iibmv8nbf" path="res://assets/audio/Sound effects package/Impact/Metal/metal_05.wav" id="8_krrc8"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_d1inx"]
friction = 0.5
bounce = 0.5

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_biuiu"]
points = PackedVector3Array(-0.0496, -3, -9.71183e-06, -0.0429582, -3, -0.0248097, -0.0429582, -3, 0.0247903, -0.0496, 3, -9.71183e-06, -0.0429582, 3, -0.0248097, -0.0248097, -3, -0.0429582, -0.0248097, -3, 0.0429485, -0.0429582, 3, 0.0247903, -0.0248097, 3, -0.0429582, -9.70811e-06, -3, -0.0496, -9.70811e-06, -3, 0.0496, -0.0248097, 3, 0.0429485, -9.70811e-06, 3, -0.0496, 0.0247903, -3, -0.0429582, 0.0247903, -3, 0.0429485, -9.70811e-06, 3, 0.0496, 0.0247903, 3, -0.0429582, 0.0429485, -3, -0.0248097, 0.0429485, -3, 0.0247903, 0.0247903, 3, 0.0429485, 0.0429485, 3, -0.0248097, 0.0495903, -3, -9.71183e-06, 0.0429485, 3, 0.0247903, 0.0495903, 3, -9.71183e-06)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_7jy6q"]
streams_count = 5
stream_0/stream = ExtResource("4_4c2bk")
stream_1/stream = ExtResource("5_d22vm")
stream_2/stream = ExtResource("6_mnobl")
stream_3/stream = ExtResource("7_x3xkm")
stream_4/stream = ExtResource("8_krrc8")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_jcshc"]
friction = 0.2
bounce = 0.1

[sub_resource type="CylinderMesh" id="CylinderMesh_q7r7w"]
top_radius = 0.16
bottom_radius = 0.16
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oa5pu"]
albedo_color = Color(0.215686, 1, 0.215686, 1)
emission_enabled = true
emission = Color(0.215686, 1, 0.215686, 1)
emission_energy_multiplier = 2.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bn6mr"]
albedo_color = Color(1, 0.215686, 0.215686, 1)
emission_enabled = true
emission = Color(1, 0.215686, 0.215686, 1)
emission_energy_multiplier = 2.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nmthn"]
points = PackedVector3Array(-0.26056, -0.551132, -0.082482, 0.26056, -0.551132, -0.082482, -0.26056, -0.551132, 0.082475, -0.26056, 0.551132, -0.082482, 0.26056, -0.551132, 0.082475, 0.26056, 0.551132, -0.082482, -0.113651, -0.308906, 0.314971, -0.120486, -0.307395, 0.314971, -0.26056, 0.551132, 0.082475, 0.120435, -0.307395, 0.314971, 0.1136, -0.308906, 0.314971, 0.26056, 0.551132, 0.082475, -0.120486, 0.332643, 0.314971, -0.104928, 0.380549, 0.314971, -0.0712102, 0.417989, 0.314971, -0.025199, 0.438489, 0.314971, 0.120435, 0.332643, 0.314971, 0.025148, 0.438489, 0.314971, 0.0711592, 0.417989, 0.314971, 0.104877, 0.380549, 0.314971)

[sub_resource type="SphereMesh" id="SphereMesh_a40gc"]
radius = 0.1
height = 0.2
radial_segments = 12
rings = 6

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_8sg8w"]
points = PackedVector3Array(0.0936065, 0.02736, 0.00539793, -0.0948951, -0.0273234, -0.000674605, -0.091251, -0.033203, -0.00368038, -0.000674605, 0.0273401, -0.094887, -0.0399752, 0.087652, 0.0235076, 0.0236569, -0.0882122, 0.0388687, -0.00672694, 0.027269, 0.0932929, 0.0355924, -0.0634742, -0.0671733, 0.0447611, 0.0878618, 0.00537491, -0.0401042, -0.0636745, -0.0643473, -0.0825919, 0.0242577, -0.0492209, -0.0490121, -0.0271631, 0.0808904, 0.0844492, -0.0243056, 0.0449228, 0.0841661, 0.0242248, -0.0461204, -0.00677629, 0.0886195, -0.0434421, -0.0822497, 0.0271665, 0.0476506, -0.0342178, -0.091493, 0.0115061, 0.0386685, 0.0635835, 0.0659385, 0.0449186, -0.0243224, 0.0844413, 0.0780522, -0.0605514, -0.00368842, 0.0176745, -0.091791, -0.0312626, 0.0414341, 0.0631837, -0.063856, 0.0476588, -0.0271797, -0.0822327, -0.0492209, -0.0242577, -0.0825919, -0.067573, 0.0608245, -0.0401971, -0.0397945, -0.0631744, 0.0655115, -0.0370558, 0.0606348, 0.0690515, 0.0810561, 0.0242025, 0.050793, -0.000674605, -0.02734, -0.0948867, 0.0841654, -0.0242246, -0.04612, -0.0948948, 0.0273233, -0.000674605, -0.000674605, -0.0364572, 0.090488)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_dmmup"]
height = 5.0

[node name="StandalonePropBodies" type="Node3D"]
script = ExtResource("1_egxgu")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
collision_layer = 64
collision_mask = 87
mass = 30.0
physics_material_override = SubResource("PhysicsMaterial_d1inx")
continuous_cd = true
contact_monitor = true
max_contacts_reported = 10
angular_damp = 1.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
mesh = ExtResource("2_ii4w5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
shape = SubResource("ConvexPolygonShape3D_biuiu")

[node name="MetalImpactAudio" type="AudioStreamPlayer3D" parent="RigidBody3D"]
stream = SubResource("AudioStreamRandomizer_7jy6q")
unit_size = 2.0
max_polyphony = 5

[node name="HeadGeneric6DOFJoint3D" type="Generic6DOFJoint3D" parent="."]
node_a = NodePath("../RigidBody3D")
node_b = NodePath("../Head")

[node name="Head" type="RigidBody3D" parent="." groups=["CanCrash"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.2)
collision_layer = 64
collision_mask = 87
mass = 100.0
physics_material_override = SubResource("PhysicsMaterial_jcshc")
contact_monitor = true
max_contacts_reported = 10

[node name="GreenLight" type="Node3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.988, 0.3)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Head/GreenLight"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -0.133496)
mesh = SubResource("CylinderMesh_q7r7w")
surface_material_override/0 = SubResource("StandardMaterial3D_oa5pu")

[node name="RedLight" type="Node3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.012, 0.3)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Head/RedLight"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -0.133496)
mesh = SubResource("CylinderMesh_q7r7w")
surface_material_override/0 = SubResource("StandardMaterial3D_bn6mr")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0.1)
radius = 0.6

[node name="NavigationObstacle3D2" type="NavigationObstacle3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, 0.1)
radius = 0.6

[node name="Head" type="MeshInstance3D" parent="Head"]
transform = Transform3D(1.6, 0, 0, 0, 1.6, 0, 0, 0, 1.6, 0, 5.5, 0)
mesh = ExtResource("3_r1csc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Head"]
transform = Transform3D(1.6, 0, 0, 0, 1.6, 0, 0, 0, 1.6, 0, 5.5, 0)
shape = SubResource("ConvexPolygonShape3D_nmthn")

[node name="MetalImpactAudio" type="AudioStreamPlayer3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.2)
stream = SubResource("AudioStreamRandomizer_7jy6q")
unit_size = 2.0
max_polyphony = 5

[node name="Generic6DOFJoint3D" type="Generic6DOFJoint3D" parent="."]
node_a = NodePath("../StaticBody3D")
node_b = NodePath("../RigidBody3D")
linear_spring_x/enabled = true
linear_spring_z/enabled = true

[node name="StaticBody3D" type="StaticBody3D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("SphereMesh_a40gc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_8sg8w")

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 256
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
shape = SubResource("CylinderShape3D_dmmup")

[node name="SnapOffAudio" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_7jy6q")
